(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-072d4340"],{4251:function(a,t,e){},"57da":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("el-container",{staticClass:"Home"},[i("el-header",{staticStyle:{height:"80px"}},[i("div",{staticClass:"logo-wrap"},[i("div",{staticClass:"logo"},[i("a",{attrs:{href:"http://cs.njupt.edu.cn/",target:"_blank"}},[i("img",{attrs:{src:e("cf05"),alt:""}})])]),i("div",{staticClass:"toggle-button",on:{click:a.toggleCollapse}},[i("i",{staticClass:"iconfont icon-caidan1"})])]),i("div",{staticClass:"title",on:{click:a.aaa}},[a._v("合为企业设备管理系统")]),i("div",{staticClass:"user_info"},[i("div",{staticClass:"loginout"},[i("el-button",{attrs:{icon:"el-icon-switch-button"},on:{click:a.loginOut}},[a._v("注销 ")])],1),i("user",{staticStyle:{"margin-left":"20px"},attrs:{name:a.name,username:a.username,useremail:a.useremail,avatar:a.avatarurl}})],1)]),["ROOT","ADMIN"].includes(a.userRole)?i("el-container",[i("el-aside",{attrs:{width:a.isCollapse?"80px":"200px"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":!0,"collapse-transition":!1,router:!0,collapse:a.isCollapse,"default-active":a.$route.path}},a._l(a.menuList1,(function(t){return i("el-submenu",{key:t.id,attrs:{index:t.id+""}},[i("template",{slot:"title"},[i("i",{class:a.iconsObj[t.id]}),i("span",[a._v(a._s(t.authName))])]),a._l(t.children,(function(t){return i("el-menu-item",{key:t.id,staticClass:"subItem",attrs:{index:"/"+t.path}},[i("span",{attrs:{slot:"title"},slot:"title"},[a._v(a._s(t.authName))])])}))],2)})),1)],1),i("el-main",[i("router-view")],1)],1):a._e(),["CREATOR"].includes(a.userRole)?i("el-container",[i("el-aside",{attrs:{width:a.isCollapse?"80px":"200px"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":!0,"collapse-transition":!1,router:!0,collapse:a.isCollapse,"default-active":a.$route.path}},a._l(a.menuList2,(function(t){return i("el-submenu",{key:t.id,attrs:{index:t.id+""}},[i("template",{slot:"title"},[i("i",{class:a.iconsObj[t.id]}),i("span",[a._v(a._s(t.authName))])]),a._l(t.children,(function(t){return i("el-menu-item",{key:t.id,staticClass:"subItem",attrs:{index:"/"+t.path}},[i("span",{attrs:{slot:"title"},slot:"title"},[a._v(a._s(t.authName))])])}))],2)})),1)],1),i("el-main",[i("router-view")],1)],1):a._e(),["OPERATOR"].includes(a.userRole)?i("el-container",[i("el-aside",{attrs:{width:a.isCollapse?"80px":"200px"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":!0,"collapse-transition":!1,router:!0,collapse:a.isCollapse,"default-active":a.$route.path}},a._l(a.menuList3,(function(t){return i("el-submenu",{key:t.id,attrs:{index:t.id+""}},[i("template",{slot:"title"},[i("i",{class:a.iconsObj[t.id]}),i("span",[a._v(a._s(t.authName))])]),a._l(t.children,(function(t){return i("el-menu-item",{key:t.id,staticClass:"subItem",attrs:{index:"/"+t.path}},[i("span",{attrs:{slot:"title"},slot:"title"},[a._v(a._s(t.authName))])])}))],2)})),1)],1),i("el-main",[i("router-view")],1)],1):a._e(),["SUPERVISOR"].includes(a.userRole)?i("el-container",[i("el-aside",{attrs:{width:a.isCollapse?"80px":"200px"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":!0,"collapse-transition":!1,router:!0,collapse:a.isCollapse,"default-active":a.$route.path}},a._l(a.menuList4,(function(t){return i("el-submenu",{key:t.id,attrs:{index:t.id+""}},[i("template",{slot:"title"},[i("i",{class:a.iconsObj[t.id]}),i("span",[a._v(a._s(t.authName))])]),a._l(t.children,(function(t){return i("el-menu-item",{key:t.id,staticClass:"subItem",attrs:{index:"/"+t.path}},[i("span",{attrs:{slot:"title"},slot:"title"},[a._v(a._s(t.authName))])])}))],2)})),1)],1),i("el-main",[i("router-view")],1)],1):a._e()],1)},s=[],n=(e("c975"),e("b0c0"),e("79e2")),l={created:function(){var a=this;this.request("user/me",{},"GET").then((function(t){console.log(t.data),a.avatarurl=null==t.data.avatar?void 0:"http://1.15.236.205/api/pic/"+t.data.avatar,a.userRole=t.data.role,a.username=t.data.username,a.useremail=t.data.email,a.name=t.data.name,a.globaldata.userid=t.data.id,a.globaldata.userRole=t.data.role,a.globaldata.username=t.data.username,a.globaldata.useremail=t.data.email,a.globaldata.name=t.data.name,a.globaldata.avatarurl=null==t.data.avatar?void 0:"http://1.15.236.205/api/pic/"+t.data.avatar})).catch((function(t){console.log(t.response.status),500==t.response.status?(a.$message({message:"请先登录",type:"error"}),a.$router.push({path:"/"})):a.$message({message:t.response.data.message,type:"error"})}))},mounted:function(){-1==location.href.indexOf("#reloaded")&&(location.href=location.href+"#reloaded",location.reload())},data:function(){return{isCollapse:!1,name:"",username:"",useremail:"",userRole:"",avatarurl:"",timeTip:"",menuList1:[{id:1,authName:"用户管理",children:[{id:11,authName:"用户列表",path:"userList"},{id:12,authName:"修改信息",path:"edituser"},{id:13,authName:"人员管理",path:"authorize"}]},{id:2,authName:"设备管理",children:[{id:20,authName:"新增设备",path:"addDevice"},{id:21,authName:"设备信息",path:"deviceInformation"}]},{id:3,authName:"设备保养",children:[{id:30,authName:"新增标准",path:"addTask"},{id:31,authName:"任务分配",path:"tssignTask"},{id:33,authName:"保养列表",path:"totalTaskList"}]},{id:4,authName:"设备维修",children:[{id:40,authName:"报修申请",path:"fixApply"},{id:41,authName:"全部报修",path:"allError"},{id:42,authName:"我发布的",path:"mySubmit"}]},{id:5,authName:"数据分析",children:[{id:50,authName:"使用日志",path:"dailyRecord"},{id:51,authName:"保养分析",path:"taskAnalysis"},{id:52,authName:"维修分析",path:"fixAnalysis"}]},{id:6,authName:"使用说明",children:[{id:60,authName:"开始使用",path:"beginUse"}]}],menuList2:[{id:1,authName:"用户管理",children:[{id:11,authName:"用户列表",path:"userList"},{id:12,authName:"修改信息",path:"edituser"}]},{id:2,authName:"设备管理",children:[{id:20,authName:"新增设备",path:"addDevice"},{id:21,authName:"设备信息",path:"deviceInformation"}]},{id:3,authName:"设备保养",children:[{id:30,authName:"新增标准",path:"addTask"},{id:31,authName:"任务分配",path:"tssignTask"},{id:33,authName:"保养列表",path:"totalTaskList"}]},{id:4,authName:"设备维修",children:[{id:41,authName:"全部报修",path:"allError"}]},{id:6,authName:"使用说明",children:[{id:60,authName:"开始使用",path:"beginUse"}]}],menuList3:[{id:1,authName:"用户管理",children:[{id:11,authName:"用户列表",path:"userList"},{id:12,authName:"修改信息",path:"edituser"}]},{id:3,authName:"设备保养",children:[{id:32,authName:"保养列表",path:"totalTaskList"}]},{id:4,authName:"设备维修",children:[{id:40,authName:"报修申请",path:"fixApply"},{id:41,authName:"分配到我的",path:"alreadyFix"},{id:42,authName:"我发布的",path:"mySubmit"}]},{id:6,authName:"使用说明",children:[{id:60,authName:"开始使用",path:"beginUse"}]}],menuList4:[{id:1,authName:"用户管理",children:[{id:11,authName:"用户列表",path:"userList"},{id:12,authName:"修改信息",path:"edituser"}]},{id:2,authName:"设备管理",children:[{id:21,authName:"设备信息",path:"deviceInformation"}]},{id:3,authName:"设备保养",children:[{id:31,authName:"任务分配",path:"tssignTask"},{id:32,authName:"保养列表",path:"totalTaskList"}]},{id:4,authName:"设备维修",children:[{id:40,authName:"报修申请",path:"fixApply"},{id:41,authName:"全部报修",path:"allError"},{id:42,authName:"分配到我的",path:"alreadyFix"},{id:43,authName:"我发布的",path:"mySubmit"}]},{id:5,authName:"数据分析",children:[{id:51,authName:"保养分析",path:"taskAnalysis"},{id:52,authName:"维修分析",path:"fixAnalysis"}]},{id:6,authName:"使用说明",children:[{id:60,authName:"开始使用",path:"beginUse"}]}],iconsObj:{1:"iconfont icon-yonghu",2:"iconfont icon-guanli",3:"iconfont icon-baoyang",4:"iconfont icon-weixiu",5:"iconfont icon-shujufenxi",6:"iconfont icon-shuoming"}}},methods:{aaa:function(){location.reload()},toggleCollapse:function(){this.isCollapse=!this.isCollapse},handleOpen:function(a,t){console.log(a,t)},handleClose:function(a,t){console.log(a,t)},loginOut:function(){var a=this;this.$confirm("您确定要退出吗?","退出管理平台",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){window.localStorage.removeItem("token"),setTimeout((function(){a.$router.push({path:"/"})}),1e3)})).catch((function(){}))}},components:{User:n["a"]}},u=l,o=(e("dbc2"),e("2877")),d=Object(o["a"])(u,i,s,!1,null,null,null);t["default"]=d.exports},cf05:function(a,t,e){a.exports=e.p+"img/logo.9188549b.png"},dbc2:function(a,t,e){"use strict";e("4251")}}]);